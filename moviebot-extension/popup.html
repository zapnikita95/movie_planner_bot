<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Planner</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div id="app">
        <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="auth-screen" class="screen">
            <div class="container">
                <a href="https://movie-planner.ru" target="_blank" rel="noopener" class="header-link">
                    <div class="header">
                        <img id="logo-img-auth" src="icons/icon48.png" alt="Logo" class="logo">
                        <h1>Movie Planner</h1>
                    </div>
                </a>
                <div style="padding: 0 10px; margin-bottom: 16px; font-size: 13px; line-height: 1.6; color: #666; text-align: left;">
                    <p style="margin: 0 0 12px 0;">–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –≤ Telegram-–±–æ—Ç–µ –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∏–∂–µ ‚Äî —Ç–∞–∫ –≤—ã —Å–≤—è–∂–µ—Ç–µ –±–∞–∑—É –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.</p>
                    <p style="margin: 0 0 16px 0; font-size: 12px; color: #999;">–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–π –±–∞–∑–µ, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –±–æ—Ç–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–ª–∞–Ω–∞—Ö ‚Äî –≤ –¢–µ–ª–µ–≥—Ä–∞–º.</p>
                    <a href="https://t.me/movie_planner_bot?start=code" target="_blank" rel="noopener" class="btn btn-primary" style="display: inline-block; text-decoration: none; text-align: center; margin-bottom: 16px;">–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram</a>
                </div>
                <div class="form-group">
                    <input type="text" id="code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –±–æ—Ç–∞" maxlength="10" class="input">
                    <button type="button" id="bind-btn" class="btn btn-primary">–ü—Ä–∏–≤—è–∑–∞—Ç—å</button>
                </div>
                <p id="status" class="status"></p>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é -->
        <div id="main-screen" class="screen hidden">
            <div class="container">
                <a href="https://movie-planner.ru" target="_blank" rel="noopener" class="header-link">
                    <div class="header">
                        <img id="logo-img" src="icons/icon48.png" alt="Logo" class="logo">
                        <h1>Movie Planner</h1>
                    </div>
                </a>
                <div id="film-info" class="film-info hidden">
                    <h2 id="film-title"></h2>
                    <p id="film-year"></p>
                    <div id="film-status" class="film-status"></div>
                    <div id="film-actions" class="film-actions"></div>
                    <div id="film-confirmation" class="film-confirmation hidden" style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px;">
                        <p style="margin: 0 0 8px 0; font-size: 14px;">–§–∏–ª—å–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤–µ—Ä–Ω–æ?</p>
                        <div style="display: flex; gap: 8px;">
                            <button type="button" id="confirm-film-yes" class="btn btn-primary" style="flex: 1; padding: 6px 12px; font-size: 12px;">–î–∞</button>
                            <button type="button" id="confirm-film-no" class="btn btn-secondary" style="flex: 1; padding: 6px 12px; font-size: 12px;">–ù–µ—Ç</button>
                        </div>
                    </div>
                </div>
                <div id="planning-form" class="planning-form hidden" style="display: none !important;">
                    <h3>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                    <div class="form-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ, –≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å:</label>
                        <div class="plan-type-buttons">
                            <button type="button" id="plan-type-home" class="btn btn-primary plan-type-btn active" data-type="home">üè† –î–æ–º–∞</button>
                            <button type="button" id="plan-type-cinema" class="btn btn-secondary plan-type-btn" data-type="cinema">üé¨ –í –∫–∏–Ω–æ</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å "–∑–∞–≤—Ç—Ä–∞ –≤–µ—á–µ—Ä–æ–º", "–ø—è—Ç–Ω–∏—Ü–∞", "—Å–±" –∏ —Ç.–¥.):</label>
                        <input type="text" id="plan-time-text" class="input" placeholder="–∑–∞–≤—Ç—Ä–∞ –≤–µ—á–µ—Ä–æ–º, –ø—è—Ç–Ω–∏—Ü–∞, —Å–± 20:00">
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="use-calendar-checkbox" style="width: auto;">
                            <span>–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–Ω—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è:</span>
                        </label>
                        <input type="datetime-local" id="plan-datetime" class="input" disabled style="background-color: #f0f0f0;">
                    </div>
                    <div id="streaming-services" class="streaming-services hidden">
                        <label>–û–Ω–ª–∞–π–Ω-–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä:</label>
                        <select id="streaming-service" class="input">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å</option>
                        </select>
                    </div>
                    <button type="button" id="create-plan-btn" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω</button>
                    <button type="button" id="cancel-plan-btn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" id="add-tickets-btn" class="btn btn-secondary hidden" style="margin-top: 10px;" disabled>üéüÔ∏è –î–æ–±–∞–≤–∏—Ç—å –±–∏–ª–µ—Ç—ã</button>
                </div>
                <div id="streaming-mark-last" class="streaming-mark-last hidden" style="display: none !important; margin-bottom: 12px; padding: 10px; background: #f0f0f0; border-radius: 8px;">
                    <p style="margin: 0 0 8px 0; font-size: 13px;">–û—Ç–º–µ—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—É—é —Å–µ—Ä–∏—é?</p>
                    <p id="streaming-mark-last-label" style="margin: 0 0 8px 0; font-size: 12px; opacity: 0.8;"></p>
                    <button type="button" id="streaming-mark-last-btn" class="btn btn-primary" style="width: 100%; padding: 8px;">‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å —Å–µ—Ä–∏—é</button>
                </div>
                <div id="search-section" class="search-section hidden" style="display: none;">
                    <div class="form-group">
                        <input type="text" id="search-input" class="input" placeholder="–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤...">
                        <button type="button" id="search-btn" class="btn btn-secondary" style="margin-top: 10px;">üîç –ù–∞–π—Ç–∏</button>
                    </div>
                    <div id="search-results" class="search-results hidden"></div>
                </div>
                <div class="container-footer">
                    <div id="logout-link" class="logout-link">–û—Ç–≤—è–∑–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</div>
                </div>
            </div>
            <div class="purple-footer">
                <a href="https://movie-planner.ru" target="_blank" rel="noopener" class="cabinet-link">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
            </div>
        </div>
    </div>
    <script src="popup.js"></script>
</body>
</html>
